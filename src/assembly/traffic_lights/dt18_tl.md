(traffic-light-assembly-18)=
# Assembly - (Legacy) Traffic Light `DT18-TL`

## Assembly of the traffic light parts

This section shows how to assemble the components from the laser cut traffic light parts.

```{warning}
The small parts with the hole in the middle, i.e., the ones in the left of {numref}`fig:G-1`, 
are not all equal. Some have a round hole, others a polygonal hole. Double check you are using the right 
ones in the process (compare with the pics).
```

All parts should be glued together as showed in the pictures for enhanced structural stability.


### Tube holder with big ground plate  

```{figure} ../../_images/assembly/traffic_light_18/G-1.jpg
:width: 80%
:name: fig:G-1

Traffic light parts
```

```{figure} ../../_images/assembly/traffic_light_18/G-2.jpg
:width: 50%
:name: fig:G-2
```

```{figure} ../../_images/assembly/traffic_light_18/G-3.jpg
:width: 50%
:name: fig:G-3
```

```{figure} ../../_images/assembly/traffic_light_18/G-4.jpg
:width: 50%
:name: fig:G-4
```

```{figure} ../../_images/assembly/traffic_light_18/G-5.jpg
:width: 50%
:name: fig:G-5
```

```{figure} ../../_images/assembly/traffic_light_18/G-6.jpg
:width: 50%
:name: fig:G-6
```

```{figure} ../../_images/assembly/traffic_light_18/G-7.jpg
:width: 50%
:name: fig:G-7
```

```{figure} ../../_images/assembly/traffic_light_18/G-8.jpg

:width: 80%
:name: fig:G-8
```

### Tube holder with small ground plate
```{figure} ../../_images/assembly/traffic_light_18/G2-1.jpg
:width: 80%
:name: fig:G2-1
```

```{figure} ../../_images/assembly/traffic_light_18/G2-2.jpg
:width: 50%
:name: fig:G2-2
```

```{figure} ../../_images/assembly/traffic_light_18/G2-3.jpg
:width: 50%
:name: fig:G2-3
```

```{figure} ../../_images/assembly/traffic_light_18/G2-4.jpg
:width: 50%
:name: fig:G2-4
```

```{figure} ../../_images/assembly/traffic_light_18/G2-5.jpg
:width: 50%
:name: fig:G2-5
```

```{figure} ../../_images/assembly/traffic_light_18/G2-6.jpg
:width: 50%
:name: fig:G2-6
```

```{figure} ../../_images/assembly/traffic_light_18/G2-7.jpg
:width: 50%
:name: fig:G2-7
```


### Traffic light LED housing
```{figure} ../../_images/assembly/traffic_light_18/L-1.jpg
:width: 80%
:name: fig:L-1
```

```{figure} ../../_images/assembly/traffic_light_18/L-2.jpg
:width: 80%
:name: fig:L-2
```

```{figure} ../../_images/assembly/traffic_light_18/L-3.jpg
:width: 80%
:name: fig:L-3
```

```{figure} ../../_images/assembly/traffic_light_18/L-4.jpg
:width: 80%
:name: fig:L-4
```

```{figure} ../../_images/assembly/traffic_light_18/L-5.jpg
:width: 80%
:name: fig:L-5
```

```{figure} ../../_images/assembly/traffic_light_18/L-6.jpg
:width: 80%
:name: fig:L-6
```

### Ground module cover
```{figure} ../../_images/assembly/traffic_light_18/C-01.jpg
:width: 50%
:name: fig:C-01
```

```{figure} ../../_images/assembly/traffic_light_18/C-02.jpg
:width: 50%
:name: fig:C-02
```

### Joint module
```{figure} ../../_images/assembly/traffic_light_18/J-1.jpg
:width: 80%
:name: fig:J-1
```

```{figure} ../../_images/assembly/traffic_light_18/J-2.jpg
:width: 80%
:name: fig:J-2
```

```{figure} ../../_images/assembly/traffic_light_18/J-3.jpg
:width: 80%
:name: fig:J-3
```

```{figure} ../../_images/assembly/traffic_light_18/J-4.jpg
:width: 80%
:name: fig:J-4
```

```{figure} ../../_images/assembly/traffic_light_18/J-5.jpg
:width: 80%
:name: fig:J-5
```

```{figure} ../../_images/assembly/traffic_light_18/J-6.jpg
:width: 80%
:name: fig:J-6
```

```{figure} ../../_images/assembly/traffic_light_18/J-7.jpg
:width: 80%
:name: fig:J-7
```

```{figure} ../../_images/assembly/traffic_light_18/J-8.jpg
:width: 80%
:name: fig:J-8
```

(tl-mat)=
## Components of the traffic light

Now that you have assembled the traffic light chassis, you are ready to add the electronics.

```{figure} ../../_images/assembly/traffic_light_18/TL-01.jpg
:width: 80%
:name: fig:tl_components

Parts of a traffic light needed to complete these instructions.
```

These components are needed for one traffic light:

* Tube holder with big ground plate
* Tube holder with small ground plate (Duckietown)
* Cable with soldered LED strip
* Joint module (2x)
* Traffic light LED housing
* Raspberry Pi base plate
* Ground module cover (Duckietown)
* Camera mount
* Camera mount cover
* Short tube
* Medium tube (2x)
* Long tube with hole at the side
* Raspberry Pi
* Raspberry Pi shield
* M2.5x10 MF Nylon spacers (8x)
* M2.5x8 Nylon screws (4x)
* SD card with Duckietown software
* USB cable
* Ethernet cable

Additionally, the traffic light structure can host:

* Traffic sign stands (4x)
* Traffic sign stand supports (4x).


## Assembling the Traffic Light



### Put the LEDs into the housing

Bend the LED strip at an angle to reduce the chance that the exposed soldered wires short. The exposed part of the wires should **not** be in contact, **especially** when turning on the power.

```{warning}
The actual traffic light in your hands might vary slightly from the pictures above. In particular, the electrical cables could have different colors or be soldered in different positions. Take note of what each color cable is soldered to, as same will go go with same on the other end.
```

```{figure} ../../_images/assembly/traffic_light_18/L-0.png
:width: 80%
:name: fig:L-0

Bent LED strip cable
```

```{figure} ../../_images/assembly/traffic_light_18/TL-02.jpg
:width: 80%
:name: fig:TL-02

Cable with soldered LED strip LED housing

```

```{figure} ../../_images/assembly/traffic_light_18/TL-03.jpg
:width: 80%
:name: fig:TL-03
```

Carefully push the LEDs into the designated holes.

```{figure} ../../_images/assembly/traffic_light_18/TL-05.jpg
:width: 80%
:name: fig:TL-05
```

```{figure} ../../_images/assembly/traffic_light_18/TL-04.jpg
:width: 80%
:name: fig:TL-04
```

Fix the LEDs with some tape, don't use glue.

```{figure} ../../_images/assembly/traffic_light_18/TL-06.jpg
:width: 80%
:name: fig:TL-06
```

### Connect the tubes

```{figure} ../../_images/assembly/traffic_light_18/TL-07.jpg
:width: 80%
:name: fig:TL-07

Medium tubes and LED housing.
```

Stick the tubes into the sides of the LED housing and pull the cable through one side.

```{figure} ../../_images/assembly/traffic_light_18/TL-08.jpg
:width: 80%
:name: fig:TL-08
``` 

Add the joint modules on the side of the tube without the cable.  

```{figure} ../../_images/assembly/traffic_light_18/TL-09.jpg
:width: 80%
:name: fig:TL-09
```

```{figure} ../../_images/assembly/traffic_light_18/TL-10.jpg
:width: 80%
:name: fig:TL-10
```

Mount the other joint module on the long tube, such that it aligns with the hole.

You can add additional tape under the joint modules to prevent them to slip down.

```{figure} ../../_images/assembly/traffic_light_18/H-1.png
:width: 80%
:name: fig:H-1

Fully assembled traffic light.
```

```{figure} ../../_images/assembly/traffic_light_18/TL-11.jpg
:width: 80%
:name: fig:TL-11
```

```{figure} ../../_images/assembly/traffic_light_18/TL-12.jpg
:width: 80%
:name: fig:TL-12
```

```{figure} ../../_images/assembly/traffic_light_18/TL-13.jpg
:width: 80%
:name: fig:TL-13
```

Pull the cable through longer tube and stick the tube into the joint module.

```{figure} ../../_images/assembly/traffic_light_18/TL-14.jpg
:width: 80%
:name: fig:TL-14
```

```{figure} ../../_images/assembly/traffic_light_18/TL-15.jpg
:width: 80%
:name: fig:TL-15
```

Put the tubes into the tube holders.  

```{figure} ../../_images/assembly/traffic_light_18/TL-16.jpg
:width: 80%
:name: fig:TL-16
```

```{figure} ../../_images/assembly/traffic_light_18/TL-17.jpg
:width: 80%
:name: fig:TL-17
```


### Connect the Raspberry Pi


Use the spacers and the screws to mount the Raspberry Pi on the Raspberry Pi ground plate as shown in {numref}`fig:TL-18`.

```{figure} ../../_images/assembly/traffic_light_18/TL-18.jpg
:width: 80%
:name: fig:TL-18

Raspberry Pi mounted on ground plate
```

Plug the shield on top of the Raspberry Pi.  
Insert the SD card.  
Connect the LED cable to the shield.  

```{figure} ../../_images/assembly/traffic_light_18/STEP_18_cropped.png
:width: 80%
:name: fig:TL-19
```

Connect the Ethernet cable.  
Connect the USB cable.



If done correctly the LEDs should be on.  

```{figure} ../../_images/assembly/traffic_light_18/TL-20.jpg
:width: 80%
:name: fig:TL-20
``` 

Close the ground module with the case.    


```{figure} ../../_images/assembly/traffic_light_18/TL-21.jpg
:width: 80%
:name: fig:TL-21
```

```{figure} ../../_images/assembly/traffic_light_18/TL-22.jpg
:width: 80%
:name: fig:TL-22
```

### Add traffic sign stands

```{figure} ../../_images/assembly/traffic_light_18/TL-23.jpg
:width: 80%
:name: fig:TL-23
```

```{figure} ../../_images/assembly/traffic_light_18/TL-24.jpg
:width: 80%
:name: fig:TL-24
```

### Fully assembled traffic light

```{figure} ../../_images/assembly/traffic_light_18/TL-25.jpg
:width: 80%
:name: fig:TL-25

Fully assembled traffic light.
```

Place the traffic light at an intersection such that the LEDs are exactly in the middle and are facing each incoming lane perpendicularly.

You can verify the position is correct by verifying that Duckiebots at the red stop lines can see only one light blinking, and no reflections of LEDs facing other directions.

You can finally use the provided double-sided tape pads to fix the traffic light to the tiles.
